<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: components/dish.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: components/dish.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import React, { useEffect, useState} from "react";
import { View, StyleSheet, Text, TouchableOpacity, Image } from "react-native";
import { Card, Rating, Avatar, Icon } from "react-native-elements";
import colors from "../config/colors";
import PropTypes, { any } from "prop-types";
import {minRemainingToString} from "../util/TimeConversion";
import {getChefInfo} from "../util/Queries";
import Chef from "../objects/Chef";
import Dish from "../objects/Dish";
import DishPage from "../screens/DishPage";

/**
 * @typedef MenuCardProps
 * @memberof MenuCard
 * @property {Dish} Dish - dish object
 * @property {Object} navigation - stack navigation object
 * @property {any} inChefMenu - if in chef's menu
 */

/**
 * MenuCard component to show dishes in a compact way
 * @class MenuCard
 * @param {MenuCardProps} props - Props of Menu Card
 */
function MenuCard(props) {
  const [ChefObject, setChefObject] = useState(null);
  const [dishPageVisible, setDishPageVisible] = useState(false);
  
  useEffect(()=>{
    getChefInfo(props.Dish.chefid).then(function(results) {
      var chef = new Chef(results[0]);
      props.Dish.setChef(chef);
      setChefObject(chef);
    }, () => {console.log("Error")})
    .catch((err) => {console.log("Use Effect Error: ", err)});
  }, [props.Dish]);

  function onPress(){
    setDishPageVisible(true);
  }

  function hideModal(){
    setDishPageVisible(false);
  }

  function onPressChef(){
    if(props.Dish.Chef == null) {return;}
    props.navigation.push("Chef", {
      Chef: props.Dish.Chef
    })
  }
  return (
    &lt;View style={styles.container}>
      &lt;Card containerStyle={styles.cardContainer}>
        &lt;TouchableOpacity onPress={onPress}>
          &lt;Card.Title>&lt;Text style={styles.title}>{props.Dish.name}&lt;/Text>&lt;/Card.Title>
          &lt;Card.Divider />
          &lt;View style={styles.cardlayout}>
            &lt;View style={styles.horizontal}>
              &lt;Card.Image source={{uri: props.Dish.primaryImageURL}} style={styles.image} />
            &lt;/View>
            &lt;View style={styles.horizontal}>
              &lt;Text style={styles.desc}>{props.Dish.shortDesc}&lt;/Text>
              &lt;Text style={styles.price}>${props.Dish.price}&lt;/Text>
              &lt;View style={styles.ratingsContainer}>
                &lt;Rating
                  style={styles.rating}
                  readonly={true}
                  imageSize={13}
                  fractions={1}
                  startingValue={props.Dish.rating ? props.Dish.rating : 0.0}
                />
                &lt;Text style={styles.numReviews}>({props.Dish.numReviews})&lt;/Text>
              &lt;/View>
              {!props.inChefMenu &amp;&amp;
              &lt;TouchableOpacity onPress={onPressChef}>
              &lt;View style={styles.card}>
                &lt;Image source={{uri: props.Dish.Chef!=null ? props.Dish.Chef.profilePicURL : "https://reactnative.dev/img/header_logo.svg"}} style={styles.icon}/>
                &lt;Text style={styles.text}>{props.Dish.Chef!=null ? props.Dish.Chef.name : "Loading"}&lt;/Text>
              &lt;/View>
              &lt;/TouchableOpacity>}
            &lt;/View>
          &lt;/View>
        &lt;/TouchableOpacity>
      &lt;/Card>
      &lt;View style={styles.centeredContent}>
        {props.Dish!=null &amp;&amp; dishPageVisible &amp;&amp; &lt;DishPage Dish={props.Dish} visible={dishPageVisible} hideModal={hideModal} navigation={props.navigation}/>}
      &lt;/View>
      
    &lt;/View>
  );
}

MenuCard.propTypes = {
  Dish: any.isRequired,
  navigation: any,
  inChefMenu: any
};

const styles = StyleSheet.create({
  centeredContent: {
    flex:1,
    justifyContent:'center',
    alignItems: 'center'
  },
  container: {
    width: "100%"
  },
  cardContainer: {
    alignItems: "flex-end",
    alignContent: "stretch",
    height: 225
  },
  title: {
    fontWeight: "bold",
    textAlign: "center",
    fontSize: 16
  },
  text: {
    paddingVertical: 4,
    textAlign: "center",
    color: colors.secondary,
    fontWeight: "bold"
  },
  desc: {
    fontSize: 12,
    textAlign: "center"
  },
  card: {
    flexDirection: "row",
    alignItems: "center",
    justifyContent: "space-evenly"
  },
  price: {
    fontSize: 10,
    alignSelf: "center",
    paddingVertical: 4,
    color: colors.black,
    fontWeight: "bold"
  },
  horizontal: {
    width: "50%",
    justifyContent: "space-around",
    padding: 8,
    alignItems: "stretch"
  },
  cardlayout: {
    flex: 1,
    flexWrap: "wrap",
    flexDirection: "row"
  },
  icon: {
    width: 25,
    height: 25,
    borderRadius: 12.5
  },
  ratingsContainer: {
    width: '100%',
    flexDirection: "row",
    alignContent: 'center',
    alignItems: 'center',
    justifyContent: 'center'
  },
  numReviews: {
    marginLeft: 5,
    fontSize: 12,
    color: 'grey',
    left: 45
  },
  rating: {
    position: 'absolute'
  }
});
export default MenuCard;</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-Objects.html">Objects</a></li><li><a href="module-Utilities.html">Utilities</a></li></ul><h3>Classes</h3><ul><li><a href="ChefScreen.html">ChefScreen</a></li><li><a href="MenuCard.html">MenuCard</a></li><li><a href="ShoppingCart.html">ShoppingCart</a></li><li><a href="ShoppingCart.CartCard.html">CartCard</a></li><li><a href="ShoppingCartScreen.html">ShoppingCartScreen</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.6</a> on Sat Mar 06 2021 02:58:04 GMT-0800 (Pacific Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
